var LawnchairAdaptorHelpers={merge:function(a,b){return(b==undefined||b==null)?a:b},terseToVerboseCallback:function(callback){return(typeof arguments[0]=="string")?function(r,i){eval(callback)}:callback},now:function(){return new Date().getTime()},uuid:function(a,d){var f="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split("");var c=[];d=d||f.length;if(a){for(var b=0;b<a;b++){c[b]=f[0|Math.random()*d]}}else{var e;c[8]=c[13]=c[18]=c[23]="-";c[14]="4";for(var b=0;b<36;b++){if(!c[b]){e=0|Math.random()*16;c[b]=f[(b==19)?(e&3)|8:e]}}}return c.join("")},serialize:function(b){var a="";a=JSON.stringify(b);return a},deserialize:function(json){return eval("("+json+")")}};var air;if(window.runtime){if(!air){air={}}air.trace=window.runtime.trace;air.File=window.runtime.flash.filesystem.File;air.FileStream=window.runtime.flash.filesystem.FileStream;air.FileMode=window.runtime.flash.filesystem.FileMode;air.EncryptedLocalStore=window.runtime.flash.data.EncryptedLocalStore;air.SQLCollationType=window.runtime.flash.data.SQLCollationType;air.SQLColumnNameStyle=window.runtime.flash.data.SQLColumnNameStyle;air.SQLColumnSchema=window.runtime.flash.data.SQLColumnSchema;air.SQLConnection=window.runtime.flash.data.SQLConnection;air.SQLError=window.runtime.flash.errors.SQLError;air.SQLErrorEvent=window.runtime.flash.events.SQLErrorEvent;air.SQLErrorOperation=window.runtime.flash.errors.SQLErrorOperation;air.SQLEvent=window.runtime.flash.events.SQLEvent;air.SQLIndexSchema=window.runtime.flash.data.SQLIndexSchema;air.SQLMode=window.runtime.flash.data.SQLMode;air.SQLResult=window.runtime.flash.data.SQLResult;air.SQLSchema=window.runtime.flash.data.SQLSchema;air.SQLSchemaResult=window.runtime.flash.data.SQLSchemaResult;air.SQLStatement=window.runtime.flash.data.SQLStatement;air.SQLTableSchema=window.runtime.flash.data.SQLTableSchema;air.SQLTransactionLockType=window.runtime.flash.data.SQLTransactionLockType;air.SQLTriggerSchema=window.runtime.flash.data.SQLTriggerSchema;air.SQLUpdateEvent=window.runtime.flash.events.SQLUpdateEvent;air.SQLViewSchema=window.runtime.flash.data.SQLViewSchema}var AIRSQLiteAdaptor=function(a){for(var b in LawnchairAdaptorHelpers){this[b]=LawnchairAdaptorHelpers[b]}this.init(a)};AIRSQLiteAdaptor.prototype={init:function(a){var d=this;var f=d.merge;var c=(typeof arguments[0]=="string")?{table:a}:a;this.name=f("Lawnchair",c.name);this.keyName=f("key",c.keyName);this.table=f("field",c.table);this.conn=new air.SQLConnection();var e=air.File.applicationStorageDirectory;this.dbFile=e.resolvePath(this.name+".sqlite.db");try{this.conn.open(this.dbFile)}catch(b){air.trace("Error msg:"+b.message);air.trace("Error details:"+b.details)}this._execSql("create table if not exists "+this.table+" (id NVARCHAR(32) UNIQUE PRIMARY KEY, value TEXT, timestamp REAL)")},save:function(c,e){var a=this;var b=function(g,i){var h;if(g[a.keyName]==undefined){h=a.uuid()}else{h=g[a.keyName]}delete (g[a.keyName]);var f=a._execSql("INSERT INTO "+a.table+" (id, value, timestamp) VALUES (:id,:value,:timestamp)",{":id":h,":value":a.serialize(g),":timestamp":a.now()});if(i!=undefined){g[a.keyName]=h;i(g)}};var d=function(i,g,h){var f=a._execSql("UPDATE "+a.table+" SET value=:value, timestamp=:timestamp WHERE id=:id",{":id":i,":value":a.serialize(g),":timestamp":a.now()});if(h!=undefined){g[a.keyName]=i;h(g)}};if(c[a.keyName]==undefined){b(c,e)}else{this.get(c[a.keyName],function(f){var g=(f!=null);if(g){var h=c[a.keyName];delete (c[a.keyName]);d(h,c,e)}else{b(c,e)}})}},get:function(b,d){var a=this._execSql("SELECT * FROM "+this.table+" WHERE id = :id",{":id":b});if(a.data&&a.data.length>0){var c=this.deserialize(a.data[0].value);c[that.keyName]=b;d(c)}else{d(null)}},all:function(h){if(typeof h==="string"){throw new Error("Callback was a string; strings are not supported for callback shorthand under AIR")}var b=this.terseToVerboseCallback(h);var d=this._execSql("SELECT * FROM "+this.table);var e=[];var g;if(d.data&&d.data.length>0){var c=0;var a=d.data.length;while(c<a){var f=d.data[c];g=this.deserialize(f.value);g[that.keyName]=f.id;e.push(g);c++}}else{e=[]}b(e)},remove:function(d,c){var b=(typeof d=="string")?d:d[that.keyName];var a=this._execSql("DELETE FROM "+this.table+" WHERE id = :id",{":id":b},c)},nuke:function(b){var a=this._execSql("DELETE FROM "+this.table,{},b)},_execSql:function(h,g,f,d){var e=new air.SQLStatement();e.sqlConnection=this.conn;e.text=h;if(g){for(var b in g){e.parameters[b]=g[b]}}try{e.execute();var a=e.getResult();if(f){f(a.data)}return a}catch(c){air.trace("Error:"+c.message);air.trace("Error details:"+c.details);if(d){d(c)}return false}}};var air;if(window.runtime){if(!air){air={}}air.trace=window.runtime.trace;air.File=window.runtime.flash.filesystem.File;air.FileStream=window.runtime.flash.filesystem.FileStream;air.FileMode=window.runtime.flash.filesystem.FileMode;air.EncryptedLocalStore=window.runtime.flash.data.EncryptedLocalStore;air.SQLCollationType=window.runtime.flash.data.SQLCollationType;air.SQLColumnNameStyle=window.runtime.flash.data.SQLColumnNameStyle;air.SQLColumnSchema=window.runtime.flash.data.SQLColumnSchema;air.SQLConnection=window.runtime.flash.data.SQLConnection;air.SQLError=window.runtime.flash.errors.SQLError;air.SQLErrorEvent=window.runtime.flash.events.SQLErrorEvent;air.SQLErrorOperation=window.runtime.flash.errors.SQLErrorOperation;air.SQLEvent=window.runtime.flash.events.SQLEvent;air.SQLIndexSchema=window.runtime.flash.data.SQLIndexSchema;air.SQLMode=window.runtime.flash.data.SQLMode;air.SQLResult=window.runtime.flash.data.SQLResult;air.SQLSchema=window.runtime.flash.data.SQLSchema;air.SQLSchemaResult=window.runtime.flash.data.SQLSchemaResult;air.SQLStatement=window.runtime.flash.data.SQLStatement;air.SQLTableSchema=window.runtime.flash.data.SQLTableSchema;air.SQLTransactionLockType=window.runtime.flash.data.SQLTransactionLockType;air.SQLTriggerSchema=window.runtime.flash.data.SQLTriggerSchema;air.SQLUpdateEvent=window.runtime.flash.events.SQLUpdateEvent;air.SQLViewSchema=window.runtime.flash.data.SQLViewSchema}var AIRSQLiteAsyncAdaptor=function(a){for(var b in LawnchairAdaptorHelpers){this[b]=LawnchairAdaptorHelpers[b]}this.init(a)};AIRSQLiteAsyncAdaptor.prototype={init:function(a){var d=this;var f=d.merge;var c=(typeof arguments[0]=="string")?{table:a}:a;this.name=f("Lawnchair",c.name);this.keyName=f("key",c.keyName);this.table=f("field",c.table);this.conn=new air.SQLConnection();var e=air.File.applicationStorageDirectory;this.dbFile=e.resolvePath(this.name+".sqlite.db");try{this.conn.openAsync(this.dbFile)}catch(b){air.trace("Error msg:"+b.message);air.trace("Error details:"+b.details)}this._execSql("create table if not exists "+this.table+" (id NVARCHAR(32) UNIQUE PRIMARY KEY, value TEXT, timestamp REAL)")},save:function(c,e){var a=this;var b=function(f,h){var g;if(f[a.keyName]==undefined){g=a.uuid()}else{g=f[a.keyName]}delete (f[a.keyName]);a._execSql("INSERT INTO "+a.table+" (id, value, timestamp) VALUES (:id,:value,:timestamp)",{":id":g,":value":a.serialize(f),":timestamp":a.now()},function(i){if(h!=undefined){f[a.keyName]=g;h(f)}})};var d=function(h,f,g){a._execSql("UPDATE "+a.table+" SET value=:value, timestamp=:timestamp WHERE id=:id",{":id":h,":value":a.serialize(f),":timestamp":a.now()},function(i){if(g!=undefined){f[a.keyName]=h;g(f)}})};if(c[a.keyName]==undefined){b(c,e)}else{this.get(c[a.keyName],function(f){var g=(f!=null);if(g){var h=c[a.keyName];delete (c[a.keyName]);d(h,c,e)}else{b(c,e)}})}},get:function(a,c){var b=this;this._execSql("SELECT * FROM "+this.table+" WHERE id = :id",{":id":a},function(d){if(d.data&&d.data.length>0){var e=b.deserialize(d.data[0].value);e[b.keyName]=a;c(e)}else{c(null)}})},all:function(c){var b=this;if(typeof c==="string"){throw new Error("Callback was a string; strings are not supported for callback shorthand under AIR")}var a=this.terseToVerboseCallback(c);this._execSql("SELECT * FROM "+this.table,null,function(f){var g=[];var i;if(f.data&&f.data.length>0){var e=0;var d=f.data.length;while(e<d){var h=f.data[e];i=b.deserialize(h.value);i[b.keyName]=h.id;g.push(i);e++}}else{g=[]}a(g)})},remove:function(b){var a=(typeof b=="string")?b:b[this.keyName];this._execSql("DELETE FROM "+this.table+" WHERE id = :id",{":id":a})},nuke:function(){this._execSql("DELETE FROM "+this.table)},_execSql:function(i,d,g,e){var b=new air.SQLStatement();b.sqlConnection=this.conn;b.text=i;if(d){for(var h in d){b.parameters[h]=d[h]}}function a(k){var j=b.getResult();if(g){g(j)}}function f(j){air.trace("Error:"+j.error.message);air.trace("Error details:"+j.error.details);if(e){e(j.error)}}b.addEventListener(air.SQLEvent.RESULT,a);b.addEventListener(air.SQLErrorEvent.ERROR,f);try{b.execute()}catch(c){air.trace("Error:"+c.message);air.trace("Error details:"+c.details);if(e){e(c)}}}};var BlackBerryPersistentStorageAdaptor=function(a){for(var b in LawnchairAdaptorHelpers){this[b]=LawnchairAdaptorHelpers[b]}this.init(a)};BlackBerryPersistentStorageAdaptor.prototype={init:function(a){this.keyName=merge("key",a.keyName);if(!navigator.store){throw ('Lawnchair, "This browser does not support BlackBerry Persistent Storage; it is a PhoneGap-only implementation."')}},get:function(key,callback){var that=this;navigator.store.get(function(value){if(callback){if(that.isObjectAsString(value)){eval("value = "+value.substr(0,value.length-1)+",key:'"+key+"'};")}that.terseToVerboseCallback(callback)(value)}},function(){},key)},save:function(b,d){var c=b[this.keyName]||this.uuid();delete b[this.keyName];var a=this;navigator.store.put(function(){if(d){var e=b;e.key=c;a.terseToVerboseCallback(d)(e)}},function(){},c,this.serialize(b))},all:function(callback){var that=this;navigator.store.getAll(function(json){if(callback){var arr=[];for(var prop in json){if(that.isObjectAsString(json[prop])){eval("arr.push("+json[prop].substr(0,json[prop].length-1)+",key:'"+prop+"'});")}else{eval("arr.push({'"+prop+"':'"+json[prop]+"'});")}}that.terseToVerboseCallback(callback)(arr)}},function(){})},remove:function(d,c){var a=(typeof d=="string")?d:d[this.keyName];var b=this;navigator.store.remove(function(){if(c){b.terseToVerboseCallback(c)()}},function(){},a)},nuke:function(b){var a=this;navigator.store.nuke(function(){if(b){a.terseToVerboseCallback(b)()}},function(){})},isObjectAsString:function(a){return(a!=null&&a[0]=="{"&&a[a.length-1]=="}")}};var CookieAdaptor=function(a){for(var b in LawnchairAdaptorHelpers){this[b]=LawnchairAdaptorHelpers[b]}this.init(a)};CookieAdaptor.prototype={init:function(a){this.keyName=this.merge("key",a.keyName);this.createCookie=function(d,e,f){if(f){var c=new Date();c.setTime(c.getTime()+(f*24*60*60*1000));var b="; expires="+c.toGMTString()}else{var b=""}document.cookie=d+"="+e+b+"; path=/"}},get:function(a,d){var c=function(g){var j=g+"=";var f=document.cookie.split(";");var e=f.length;for(var h=0;h<e;h++){var k=f[h];while(k.charAt(0)==" "){k=k.substring(1,k.length)}if(k.indexOf(j)==0){return k.substring(j.length,k.length)}}return null};var b=this.deserialize(c(a))||null;if(b){b[this.keyName]=a}if(d){this.terseToVerboseCallback(d)(b)}},save:function(a,c){var b=a[this.keyName]||this.uuid();delete a[this.keyName];this.createCookie(b,this.serialize(a),365);a[this.keyName]=b;if(c){this.terseToVerboseCallback(c)(a)}},all:function(n){var d=this.terseToVerboseCallback(n);var f=document.cookie.split(";");var h=[];var j,e,m,a;for(var g=0,b=f.length;g<b;g++){j=f[g].split("=");e=j[0];m=j[1];a=this.deserialize(m);if(a){a[this.keyName]=e;h.push(a)}}if(d){d(h)}},remove:function(c,b){var a=(typeof c=="string")?c:c[this.keyName];this.createCookie(a,"",-1);if(b){this.terseToVerboseCallback(b)()}},nuke:function(b){var a=this;this.all(function(e){for(var d=0,c=e.length;d<c;d++){if(e[d][a.keyName]){a.remove(e[d][a.keyName])}}if(b){b=a.terseToVerboseCallback(b);b(e)}})}};var DOMStorageAdaptor=function(a){for(var b in LawnchairAdaptorHelpers){this[b]=LawnchairAdaptorHelpers[b]}this.init(a)};DOMStorageAdaptor.prototype={init:function(b){var a=this;this.storage=this.merge(window.localStorage,b.storage);this.table=this.merge("field",b.table);this.keyName=this.merge("key",b.keyName);if(!window.Storage){this.storage=(function(){var c=window.top.name?a.deserialize(window.top.name):{};return{setItem:function(d,e){c[d]=e+"";window.top.name=a.serialize(c)},removeItem:function(d){delete c[d];window.top.name=a.serialize(c)},getItem:function(d){return c[d]||null},clear:function(){c={};window.top.name=""}}})()}},save:function(a,c){var b=this.table+"::"+(a[this.keyName]||this.uuid());a[this.keyName]=b.split("::")[1];this.storage.setItem(b,this.serialize(a));if(c){c(a)}},get:function(b,d){var c=this.deserialize(this.storage.getItem(this.table+"::"+b));var a=this.terseToVerboseCallback(d);if(c){c[this.keyName]=b;if(d){a(c)}}else{if(d){a(null)}}},all:function(j){var c=this.terseToVerboseCallback(j);var f=[];for(var g=0,b=this.storage.length;g<b;++g){var a=this.storage.key(g);var e=a.split("::")[0];var h=a.split("::").slice(1).join("::");if(e==this.table){var d=this.deserialize(this.storage.getItem(a));d[this.keyName]=h;f.push(d)}}if(c){c(f)}},remove:function(c,b){var a=this.table+"::"+(typeof c==="string"?c:c[this.keyName]);this.storage.removeItem(a);if(b){b()}},nuke:function(b){var a=this;this.all(function(e){for(var d=0,c=e.length;d<c;d++){a.remove(e[d])}if(b){b()}})}};(function(){if(window.google&&google.gears){return}var a=null;if(typeof GearsFactory!="undefined"){a=new GearsFactory()}else{try{a=new ActiveXObject("Gears.Factory");if(a.getBuildInfo().indexOf("ie_mobile")!=-1){a.privateSetGlobalObject(this)}}catch(b){if((typeof navigator.mimeTypes!="undefined")&&navigator.mimeTypes["application/x-googlegears"]){a=document.createElement("object");a.style.display="none";a.width=0;a.height=0;a.type="application/x-googlegears";document.documentElement.appendChild(a)}}}if(!a){return}if(!window.google){google={}}if(!google.gears){google.gears={factory:a}}})();var GearsSQLiteAdaptor=function(a){for(var b in LawnchairAdaptorHelpers){this[b]=LawnchairAdaptorHelpers[b]}this.init(a)};GearsSQLiteAdaptor.prototype={init:function(a){var c=this;var d=c.merge;var b=(typeof arguments[0]=="string")?{table:a}:a;this.name=d("Lawnchair",b.name);this.keyName=d("key",b.keyName);this.table=d("field",b.table);this.db=google.gears.factory.create("beta.database");this.db.open(this.name);this.db.execute("create table if not exists "+this.table+" (id NVARCHAR(32) UNIQUE PRIMARY KEY, value TEXT, timestamp REAL)")},save:function(c,e){var a=this;var b=function(g,i){var h=(g[a.keyName]==undefined)?a.uuid():g[a.keyName];delete (g[a.keyName]);var f=a.db.execute("INSERT INTO "+a.table+" (id, value, timestamp) VALUES (?,?,?)",[h,a.serialize(g),a.now()]);if(i!=undefined){g[a.keyName]=h;i(g)}};var d=function(h,f,g){a.db.execute("UPDATE "+a.table+" SET value=?, timestamp=? WHERE id=?",[a.serialize(f),a.now(),h]);if(g!=undefined){f[a.keyName]=h;g(f)}};if(c[a.keyName]==undefined){b(c,e)}else{this.get(c[a.keyName],function(f){var g=(f!=null);if(g){var h=c[a.keyName];delete (c[a.keyName]);d(h,c,e)}else{b(c,e)}})}},get:function(b,d){var a=this.db.execute("SELECT * FROM "+this.table+" WHERE id = ?",[b]);if(a.isValidRow()){var c=this.deserialize(a.field(1));c[this.keyName]=b;d(c)}else{d(null)}a.close()},all:function(e){var a=this.terseToVerboseCallback(e);var b=this.db.execute("SELECT * FROM "+this.table);var c=[];var d;while(b.isValidRow()){d=this.deserialize(b.field(1));d[this.keyName]=b.field(0);c.push(d);b.next()}b.close();a(c)},remove:function(b,a){this.db.execute("DELETE FROM "+this.table+" WHERE id = ?",[(typeof b=="string")?b:b[this.keyName]]);if(a){a()}},nuke:function(a){this.db.execute("DELETE FROM "+this.table);if(a){a()}return this}};var UserDataAdaptor=function(a){for(var b in LawnchairAdaptorHelpers){this[b]=LawnchairAdaptorHelpers[b]}this.init(a)};UserDataAdaptor.prototype={init:function(a){this.keyName=merge("key",a.keyName);var b=document.createElement("span");b.style.behavior="url('#default#userData')";b.style.position="absolute";b.style.left=10000;document.body.appendChild(b);this.storage=b;this.storage.load("lawnchair")},get:function(a,c){var b=this.deserialize(this.storage.getAttribute(a));if(b){b[this.keyName]=a}if(c){c(b)}},save:function(a,c){var b=a[this.keyName]||"lc"+this.uuid();delete a[this.keyName];this.storage.setAttribute(b,this.serialize(a));this.storage.save("lawnchair");if(c){a[this.keyName]=b;c(a)}},all:function(h){var a=this.terseToVerboseCallback(h);var c=this.storage.XMLDocument.firstChild.attributes;var e=[];var d,g;for(var f=0,b=c.length;f<b;f++){d=c[f];g=this.deserialize(d.nodeValue);if(g){g[this.keyName]=d.nodeName;e.push(g)}}if(a){a(e)}},remove:function(c,b){var a=(typeof c=="string")?c:c[this.keyName];this.storage.removeAttribute(a);this.storage.save("lawnchair");if(b){b()}},nuke:function(b){var a=this;this.all(function(e){for(var d=0,c=e.length;d<c;d++){if(e[d][a.keyName]){a.remove(e[d][a.keyName])}}if(b){b()}})}};var WebkitSQLiteAdaptor=function(a){for(var b in LawnchairAdaptorHelpers){this[b]=LawnchairAdaptorHelpers[b]}this.init(a)};WebkitSQLiteAdaptor.prototype={init:function(a){var c=this;var d=c.merge;var b=(typeof arguments[0]=="string")?{table:a}:a;this.name=d("Lawnchair",b.name);this.keyName=d("key",b.keyName);this.version=d("1.0",b.version);this.table=d("field",b.table);this.display=d("shed",b.display);this.max=d(65536,b.max);this.db=d(null,b.db);this.perPage=d(10,b.perPage);this.onError=function(){};this.onData=function(){};if("onError" in b){this.onError=b.onError}if(!window.openDatabase){throw ('Lawnchair, "This browser does not support sqlite storage."')}this.db=openDatabase(this.name,this.version,this.display,this.max);this.db.transaction(function(e){e.executeSql("SELECT COUNT(*) FROM "+c.table,[],function(){},function(f,g){c.db.transaction(function(h){h.executeSql("CREATE TABLE "+c.table+" (id NVARCHAR(32) UNIQUE PRIMARY KEY, value TEXT, timestamp REAL)",[],function(){},c.onError)})})})},save:function(c,e){var a=this;var d=function(h,f,g){a.db.transaction(function(i){i.executeSql("UPDATE "+a.table+" SET value=?, timestamp=? WHERE id=?",[a.serialize(f),a.now(),h],function(){if(g!=undefined){f[a.keyName]=h;a.terseToVerboseCallback(g)(f)}},a.onError)})};var b=function(f,g){a.db.transaction(function(h){var i=(f[a.keyName]==undefined)?a.uuid():f[a.keyName];delete (f[a.keyName]);h.executeSql("INSERT INTO "+a.table+" (id, value,timestamp) VALUES (?,?,?)",[i,a.serialize(f),a.now()],function(){if(g!=undefined){f[a.keyName]=i;a.terseToVerboseCallback(g)(f)}},a.onError)})};if(c[a.keyName]==undefined){b(c,e)}else{this.get(c[a.keyName],function(f){var g=(f!=null);if(g){var h=c[a.keyName];delete (c[a.keyName]);d(h,c,e)}else{b(c,e)}})}},get:function(a,c){var b=this;this.db.transaction(function(d){d.executeSql("SELECT value FROM "+b.table+" WHERE id = ?",[a],function(e,f){if(f.rows.length==0){b.terseToVerboseCallback(c)(null)}else{var g=b.deserialize(f.rows.item(0).value);g[b.keyName]=a;b.terseToVerboseCallback(c)(g)}},this.onError)})},all:function(c){var a=this.terseToVerboseCallback(c);var b=this;this.db.transaction(function(d){d.executeSql("SELECT * FROM "+b.table,[],function(f,j){if(j.rows.length==0){a([])}else{var k=[];for(var h=0,e=j.rows.length;h<e;h++){var g=j.rows.item(h).value;var m=b.deserialize(g);m[b.keyName]=j.rows.item(h).id;k.push(m)}a(k)}},b.onError)})},paged:function(c,d){var a=this.terseToVerboseCallback(d);var b=this;this.db.transaction(function(e){var g=b.perPage*(c-1);var f="SELECT * FROM "+b.table+" ORDER BY timestamp ASC LIMIT ? OFFSET ?";e.executeSql(f,[b.perPage,g],function(j,n){if(n.rows.length==0){a([])}else{var o=[];for(var m=0,h=n.rows.length;m<h;m++){var k=n.rows.item(m).value;var p=b.deserialize(k);p[b.keyName]=n.rows.item(m).id;o.push(p)}a(o)}},b.onError)})},remove:function(c,b){var a=this;if(b){b=a.terseToVerboseCallback(b)}this.db.transaction(function(d){d.executeSql("DELETE FROM "+a.table+" WHERE id = ?",[(typeof c=="string")?c:c[a.keyName]],b||a.onData,a.onError)})},nuke:function(b){var a=this;if(b){b=a.terseToVerboseCallback(b)}this.db.transaction(function(c){c.executeSql("DELETE FROM "+a.table,[],b||a.onData,a.onError)})}};var Lawnchair=function(a){this.init(a)};Lawnchair.prototype={init:function(b){var a={webkit:window.WebkitSQLiteAdaptor,gears:window.GearsSQLiteAdaptor,dom:window.DOMStorageAdaptor,cookie:window.CookieAdaptor,air:window.AIRSQLiteAdaptor,userdata:window.UserDataAdaptor,"air-async":window.AIRSQLiteAsyncAdaptor,blackberry:window.BlackBerryPersistentStorageAdaptor};this.adaptor=b.adaptor?new a[b.adaptor](b):new WebkitSQLiteAdaptor(b);if(!JSON||!JSON.stringify){throw"Native JSON functions unavailable - please include http://www.json.org/json2.js or run on a decent browser :P"}},save:function(a,b){this.adaptor.save(a,b)},get:function(a,b){this.adaptor.get(a,b)},exists:function(a){this.adaptor.exists(a)},all:function(a){this.adaptor.all(a)},remove:function(b,a){this.adaptor.remove(b,a)},nuke:function(a){this.adaptor.nuke(a);return this},paged:function(a,b){this.adaptor.paged(a,b)},find:function(condition,callback){var is=(typeof condition=="string")?function(r){return eval(condition)}:condition;var cb=this.adaptor.terseToVerboseCallback(callback);this.each(function(record,index){if(is(record)){cb(record,index)}})},each:function(b){var a=this.adaptor.terseToVerboseCallback(b);this.all(function(e){var c=e.length;for(var d=0;d<c;d++){a(e[d],d)}})}};